syntax = "proto3";

package Protocol;
option csharp_namespace = "Google.Protobuf.Protocol";

import public "Enum.proto";
import public "Struct.proto";

message S_Connected 
{
}

message C_SignUpReq
{
	string name = 1;
	string email = 2;
	string password = 3;
}

message S_SignUpRes
{
	ESignUpResult result = 1;
}

message C_LogInReq
{
	string email = 1;
	string password = 2;
}

message S_LogInRes
{
	ELogInResult result = 1;
	PlayerInfo playerInfo = 2;
}

message C_CreateRoomReq
{
	string name = 1;
}

message S_CreateRoomRes
{
	RoomInfo roomInfo = 1;
	ECreateRoomResult result = 2;
}

message C_RoomListReq
{

}

message S_RoomListRes
{
	repeated RoomInfo rooms = 1;
}

message C_EnterGame 
{
	int32 roomIndex = 1;
}

message S_EnterGame 
{
	RoomInfo roomInfo = 1;
	repeated PlayerInfo playerInfos = 2;
}

message S_JoinGame
{
	PlayerInfo playerInfo = 1;
}

message C_LeaveGame
{
	int32 roomIndex = 1;
}

message S_LeaveGame
{
}

message S_LeavePlayer
{
}

message C_PlayerState
{
	PlayerInfo playerInfo = 1;
}

message S_PlayerState
{
	PlayerInfo playerInfo = 1;
}

message S_StartGame
{
	RoomInfo roomInfo = 1;
}

message C_SpawnTetromino
{
	ETetrominoType tetrominoType = 1;
}

message S_SpawnTetromino
{
	ETetrominoType tetrominoType = 1;
}

message C_MoveTetromino
{
	PositionInfo PositionInfo = 1;
}

message S_MoveTetromino
{
	PositionInfo PositionInfo = 1;
}

message C_LockBlock
{
	repeated Block blocks = 1;
}

message S_LockBlock
{
}

message C_ClearRows
{
    repeated int32 rows = 1;
}

message S_ClearRows
{
    repeated int32 rows = 1;
}

message C_GameOver
{
}

message S_GameOver
{
}